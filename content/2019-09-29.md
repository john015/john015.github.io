---
title: 'React-router v5.1, 무엇이 달라졌을까?'
cover: 'react-router.png'
date: '2019-09-29'
category: 'tech'
tags:
  - React
  - React-router
---

React로 개발을 할 때 라우팅을 하기 위해 주로 사용되는 써드파티 라이브러리 react-router가 9월 25일 v5.1로 업데이트 되었습니다.

v5.1에서는 올해 2월에 react v16.8에 추가된 hooks API가 추가되었는데요 같이 어떤 기능들이 새로 생겼는지 알아보도록 하겠습니다.

## useParams

기존에 `<Route>`로 사용되지 않은 컴포넌트에서 `match, location, history` 객체에 접근할려면 `withRouter`HoC로 컴포넌트를 감싸줘야했습니다.

```javascript
// before
function BlogPost({match}) {
  const { slug } = match.params
  // ...
}

export default withRouter(BlogPost)
```

<br/>

v5.1에서는 `useParams` API가 추가되면서 손쉽게 `match.params` 객체에 접근할 수 있게 되었습니다.

```javascript
import { useParams } from 'react-router'
// after
export default function BlogPost() {
  const { slug } = useParams()
  // ...
}
```

## useHistory

`useHistory`는 `params`에 접근 할 수 있게 해주는 `useParams`와 같이 `location`객체에 접근 할 수 있게 해주는 hook입니다.

```javascript
// before
function BlogPost({ history }) {
  // ...
}
export default withRouter(BlogPost)


// after
import { useHistory } from 'react-router'
export default function BlogPost() {
  const history = useHistory()
  // ...
}
```

## useLocation

`useLocation`는 위 두 가지 hooks들과 마찬가지로 `location`객체에 접근 할 수 있게 해주는 hook입니다.

```javascript
// before
function BlogPost({ location }) {
  // ...
}
export default withRouter(BlogPost)


// after
import { useLocation } from 'react-router'
export default function BlogPost() {
  const location = useLocation()
  // ...
}
```

## useRouteMatch

## migration guide


<br>
<br>

## Reference

- https://github.com/facebook/create-react-app/releases/tag/v3.0.0
